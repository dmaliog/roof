<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Калькулятор нерулонных материалов Технониколь</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .fade-in {
      animation: fadeIn 0.3s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    h2 {
      color: #2c3e50 !important;
      margin-bottom: 25px !important;
      font-weight: 600 !important;
      letter-spacing: 0.5px !important;
      font-size: 20px !important;
      position: relative !important;
      padding-bottom: 10px !important;
    }
    h2::after {
      content: '';
      position: absolute !important;
      bottom: 0 !important;
      left: 0 !important;
      width: 50px !important;
      height: 3px !important;
      background: #3498db !important;
      border-radius: 2px !important;
    }
    body {
      font-family: 'Open Sans', sans-serif;
      background: linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%);
      margin: 0;
      padding: 40px;
      color: #2c3e50;
      line-height: 1.6;
      overflow-x: hidden;
    }
    select {
        width: 100%;
        padding: 12px 30px 12px 12px;
        border: 1px solid #d1d5db; /* border-gray-300 */
        border-radius: 8px;
        background: #f9fafb; /* bg-gray-50 */
        font-size: 16px;
        color: #2c3e50; /* text-gray-900 */
        appearance: none; /* Убираем стандартную стрелку */
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%232c3e50' stroke-width='2'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 12px center;
        background-size: 16px;
        transition: border-color 0.3s, box-shadow 0.3s;
    }
    select:focus {
        outline: none;
        border-color: #3498db;
        box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
    }
  </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-blue-100 flex items-center justify-center min-h-screen p-4">
  <div class="bg-white p-8 rounded-2xl shadow-xl w-full max-w-3xl fade-in">
    <h2>Калькулятор нерулонных материалов Технониколь</h2>
    <div class="grid md:grid-cols-2 gap-6">
      <div>
        <label for="inputValue" class="block text-sm font-semibold text-gray-800 mb-2" id="inputLabel">Введите площадь (м²)</label>
        <input type="number" id="inputValue" class="mt-1 p-3 w-full border border-gray-300 rounded-lg bg-gray-50 text-gray-900 placeholder-gray-400" placeholder="Введите значение" step="0.01" min="0">
      </div>
      <div>
        <label for="material" class="block text-sm font-semibold text-gray-800 mb-2">Выберите материал</label>
        <select id="material" class="w-full p-3 rounded-lg border border-gray-300 bg-gray-50">
          <option value="primer01">Праймер битумный №01 (кг)</option>
          <option value="primer03">Праймер водоэмульсионный №03 (кг)</option>
          <option value="primer04">Праймер быстросохнущий №04 (кг)</option>
          <option value="primer08">Праймер-концентрат №08 (кг)</option>
          <option value="minwool_technoacoustic">Минвата Техноакустик, 50 мм (упаковки, 5.76 м²/уп.)</option>
          <option value="minwool_technoroof">Минвата Техноруф В60, 50 мм (упаковки, 2.88 м²/уп.)</option>
          <option value="minwool_ozm">Минвата Техно ОЗМ, 30 мм (упаковки, 4.32 м²/уп.)</option>
          <option value="pir_logicpir">PIR-плиты LOGICPIR, 50 мм (плиты, 0.72 м²/плита)</option>
          <option value="pir_logicpir_prof">PIR-плиты LOGICPIR PROF, 90 мм (плиты, 2.83 м²/плита)</option>
          <option value="aerator">Аэратор ТАТПОЛИМЕР ТП-01.100/6 (штуки)</option>
          <option value="clamp_rail">Прижимная рейка (метры)</option>
        </select>
      </div>
    </div>
    <div class="mt-6">
      <label for="calcType" class="block text-sm font-semibold text-gray-800 mb-2">Тип расчета</label>
      <select id="calcType" class="w-full p-3 rounded-lg border border-gray-300 bg-gray-50">
        <option value="areaToMaterial">Площадь/Длина → Материал (введите м² или м)</option>
        <option value="materialToArea">Материал → Площадь/Длина (введите количество)</option>
      </select>
    </div>
    <div class="mt-6 flex flex-col md:flex-row gap-4">
      <button onclick="calculate()" class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-3 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-300">Рассчитать</button>
    </div>
    <div id="result" class="mt-6 text-center"></div>
  </div>

  <script>
    function updateInputLabel() {
      const calcType = document.getElementById('calcType').value;
      const material = document.getElementById('material').value;
      const inputLabel = document.getElementById('inputLabel');
      if (calcType === 'areaToMaterial') {
        inputLabel.textContent = material === 'clamp_rail' ? 'Введите длину зоны крепления (м)' : 'Введите площадь (м²)';
      } else {
        const unit = material.includes('primer') ? 'кг' :
                     material.includes('minwool') ? 'упаковки' :
                     material.includes('pir') ? 'плиты' :
                     material === 'aerator' ? 'штуки' : 'метры';
        inputLabel.textContent = `Введите количество (${unit})`;
      }
    }

    document.getElementById('calcType').addEventListener('change', updateInputLabel);
    document.getElementById('material').addEventListener('change', updateInputLabel);

    function calculate() {
      const material = document.getElementById('material').value;
      const calcType = document.getElementById('calcType').value;
      const inputValue = parseFloat(document.getElementById('inputValue').value);
      const resultDiv = document.getElementById('result');

      if (isNaN(inputValue) || inputValue < 0) {
        resultDiv.innerHTML = '<p class="text-red-600 font-medium fade-in">Введите корректное положительное число.</p>';
        return;
      }

      let result = '';
      if (material === 'primer01') {
        const rate = 0.25; // кг/м²
        const bucketSize = 16; // кг/ведро (20 л)
        if (calcType === 'areaToMaterial') {
          const requiredKg = inputValue * rate;
          const buckets = Math.ceil(requiredKg / bucketSize);
          result = `Для ${inputValue} м² потребуется около ${requiredKg.toFixed(2)} кг праймера №01, или ${buckets} ведро(а) (20 л, 16 кг каждое).`;
        } else {
          const area = inputValue / rate;
          const buckets = Math.floor(inputValue / bucketSize);
          result = `${inputValue} кг праймера №01 покрывает около ${area.toFixed(2)} м². Это эквивалентно ${buckets} ведро(ам) (20 л, 16 кг каждое) с остатком ${inputValue % bucketSize} кг.`;
        }
      } else if (material === 'primer03') {
        const rate = 0.30; // кг/м²
        const bucketSize = 18; // кг/ведро (20 л)
        if (calcType === 'areaToMaterial') {
          const requiredKg = inputValue * rate;
          const buckets = Math.ceil(requiredKg / bucketSize);
          result = `Для ${inputValue} м² потребуется около ${requiredKg.toFixed(2)} кг праймера №03, или ${buckets} ведро(а) (20 л, 18 кг каждое).`;
        } else {
          const area = inputValue / rate;
          const buckets = Math.floor(inputValue / bucketSize);
          result = `${inputValue} кг праймера №03 покрывает около ${area.toFixed(2)} м². Это эквивалентно ${buckets} ведро(ам) (20 л, 18 кг каждое) с остатком ${inputValue % bucketSize} кг.`;
        }
      } else if (material === 'primer04') {
        const rate = 0.30; // кг/м²
        const bucketSize = 16; // кг/ведро (20 л)
        if (calcType === 'areaToMaterial') {
          const requiredKg = inputValue * rate;
          const buckets = Math.ceil(requiredKg / bucketSize);
          result = `Для ${inputValue} м² потребуется около ${requiredKg.toFixed(2)} кг праймера №04, или ${buckets} ведро(а) (20 л, 16 кг каждое).`;
        } else {
          const area = inputValue / rate;
          const buckets = Math.floor(inputValue / bucketSize);
          result = `${inputValue} кг праймера №04 покрывает около ${area.toFixed(2)} м². Это эквивалентно ${buckets} ведро(ам) (20 л, 16 кг каждое) с остатком ${inputValue % bucketSize} кг.`;
        }
      } else if (material === 'primer08') {
        const rate = 0.35; // кг/м²
        const bucketSize = 8; // кг/ведро (10 л)
        if (calcType === 'areaToMaterial') {
          const requiredKg = inputValue * rate;
          const buckets = Math.ceil(requiredKg / bucketSize);
          result = `Для ${inputValue} м² потребуется около ${requiredKg.toFixed(2)} кг праймера №08 (разбавленного), или ${buckets} ведро(а) (10 л, 8 кг концентрата каждое).`;
        } else {
          const area = inputValue / rate;
          const buckets = Math.floor(inputValue / bucketSize);
          result = `${inputValue} кг праймера №08 (разбавленного) покрывает около ${area.toFixed(2)} м². Это эквивалентно ${buckets} ведро(ам) (10 л, 8 кг концентрата каждое) с остатком ${inputValue % bucketSize} кг.`;
        }
      } else if (material === 'minwool_technoacoustic') {
        const areaPerPack = 5.76; // м²/упаковка
        if (calcType === 'areaToMaterial') {
          const packs = Math.ceil(inputValue / areaPerPack);
          result = `Для ${inputValue} м² потребуется около ${packs} упаковок минваты Техноакустик (50 мм, 5.76 м²/уп.).`;
        } else {
          const area = inputValue * areaPerPack;
          result = `${inputValue} упаковок минваты Техноакустик (50 мм, 5.76 м²/уп.) покрывает около ${area.toFixed(2)} м².`;
        }
      } else if (material === 'minwool_technoroof') {
        const areaPerPack = 2.88; // м²/упаковка
        if (calcType === 'areaToMaterial') {
          const packs = Math.ceil(inputValue / areaPerPack);
          result = `Для ${inputValue} м² потребуется около ${packs} упаковок минваты Техноруф В60 (50 мм, 2.88 м²/уп.).`;
        } else {
          const area = inputValue * areaPerPack;
          result = `${inputValue} упаковок минваты Техноруф В60 (50 мм, 2.88 м²/уп.) покрывает около ${area.toFixed(2)} м².`;
        }
      } else if (material === 'minwool_ozm') {
        const areaPerPack = 4.32; // м²/упаковка
        if (calcType === 'areaToMaterial') {
          const packs = Math.ceil(inputValue / areaPerPack);
          result = `Для ${inputValue} м² потребуется около ${packs} упаковок минваты Техно ОЗМ (30 мм, 4.32 м²/уп.).`;
        } else {
          const area = inputValue * areaPerPack;
          result = `${inputValue} упаковок минваты Техно ОЗМ (30 мм, 4.32 м²/уп.) покрывает около ${area.toFixed(2)} м².`;
        }
      } else if (material === 'pir_logicpir') {
        const areaPerPlate = 0.72; // м²/плита
        if (calcType === 'areaToMaterial') {
          const plates = Math.ceil(inputValue / areaPerPlate);
          result = `Для ${inputValue} м² потребуется около ${plates} плит PIR LOGICPIR (50 мм, 0.72 м²/плита).`;
        } else {
          const area = inputValue * areaPerPlate;
          result = `${inputValue} плит PIR LOGICPIR (50 мм, 0.72 м²/плита) покрывает около ${area.toFixed(2)} м².`;
        }
      } else if (material === 'pir_logicpir_prof') {
        const areaPerPlate = 2.83; // м²/плита
        if (calcType === 'areaToMaterial') {
          const plates = Math.ceil(inputValue / areaPerPlate);
          result = `Для ${inputValue} м² потребуется около ${plates} плит PIR LOGICPIR PROF (90 мм, 2.83 м²/плита).`;
        } else {
          const area = inputValue * areaPerPlate;
          result = `${inputValue} плит PIR LOGICPIR PROF (90 мм, 2.83 м²/плита) покрывает около ${area.toFixed(2)} м².`;
        }
      } else if (material === 'aerator') {
        const aeratorsPerArea = 100; // м² на 1 аэратор
        const minAerators = 2;
        const maxDistance = 15; // м
        if (calcType === 'areaToMaterial') {
          const aerators = Math.max(minAerators, Math.ceil(inputValue / aeratorsPerArea));
          const sideLength = Math.sqrt(inputValue);
          const interval = Math.min(maxDistance, sideLength / Math.ceil(Math.sqrt(aerators)));
          result = `Для ${inputValue} м² потребуется около ${aerators} аэраторов ТАТПОЛИМЕР ТП-01.100/6. Рекомендуемый интервал между аэраторами: до ${interval.toFixed(2)} м. Устанавливайте не ближе 0.5 м к краям кровли.`;
        } else {
          const area = inputValue * aeratorsPerArea;
          result = `${inputValue} аэраторов ТАТПОЛИМЕР ТП-01.100/6 покрывает около ${area.toFixed(2)} м².`;
        }
      } else if (material === 'clamp_rail') {
        const railLength = 2; // м/рейка
        if (calcType === 'areaToMaterial') {
          const rails = Math.ceil(inputValue / railLength);
          result = `Для зоны крепления длиной ${inputValue} м потребуется около ${rails} прижимных реек (2 м каждая).`;
        } else {
          const totalLength = inputValue * railLength;
          result = `${inputValue} прижимных реек (2 м каждая) обеспечивает фиксацию на длине ${totalLength.toFixed(2)} м.`;
        }
      }

      resultDiv.innerHTML = `<p class="text-green-600 font-semibold text-lg fade-in">${result}</p>`;
    }
  </script>
</body>
</html>
